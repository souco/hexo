---
title: Spring Mail 发送邮件，没有主题，没有收件人，邮件内容显示乱码问题
date: 2017-04-13 12:35:09
category: 编程
tags: [Spring,Java]
---
使用 Spring Mail 发送邮件，在本地 Windows 环境下正常，部署到 linux 服务器的时候出现没有主题，没有收件人，邮件内容显示乱码的问题。  
过程：  
一开始发现邮件无法发送，报错，报错信息核心：`554 DT:SPM`  
根据网上搜索资料提示，发送邮件给配置的邮箱自己，发送成功，出现没有主题，没有收件人，邮件内容显示乱码的情况。  
初步认为是 linux 和 windows 环境差异问题，然而查了半天也没什么效果。  
然后又排查是否主机所在网络环境是否对发送出去的邮件做了过滤或者限制，也并没有。  
各种编码的方式也尝试过，也还是乱码。  
最后发现是 Jenkins 在集成编译的时候加了两个 jar 包：  
```
geronimo-stax-api_1.0_spec-1.0.1.jar
geronimo-javamail_1.4_spec-1.2.jar
```
然而这两个 jar 包在本地并没有，不知道是不是因为这样，本地环境邮件发送是正常的...将这两个 jar 包干掉，邮件正常发送。 
附网上同问题解决文章：[JavaMail 发送邮件 无主题 无收件人 邮件内容乱码 解决](http://www.cnblogs.com/XL-Liang/archive/2013/01/29/2881813.html)
Mark.